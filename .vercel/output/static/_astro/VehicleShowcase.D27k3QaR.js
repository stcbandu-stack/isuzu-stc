import{s as G}from"./supabase.Br-sM2rM.js";/* empty css                       */import{_ as J}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as l,b as r,d as h,F as k,r as z,t as i,s as I,e as V,p as K,f as Q,i as W,h as d,g as c,o as n,n as S}from"./runtime-core.esm-bundler.CuQQ-MJ5.js";const $=K({__name:"VehicleShowcase",setup(F,{expose:s}){s();const u=d([]),e=d(!0),x=d(""),g=d(null),o=d(0),m=d(!1),y=d(0),M=d(0),P=d("0% 0%"),j=["V-Cross","Mu-X","Spark","2 Drs","4 Drs","X-Series"],B=async()=>{try{const{data:t,error:a}=await G.from("vehicles").select("*, vehicle_colors(*)").order("price",{ascending:!0});if(a)throw a;u.value=t||[]}catch(t){console.error("Error fetching vehicles:",t)}finally{e.value=!1}},p=c(()=>{const t=new Set(u.value.map(a=>a.model_category));return j.filter(a=>t.has(a))}),v=c(()=>x.value?u.value.filter(t=>t.model_category===x.value):[]),f=c(()=>u.value.find(t=>t.id===g.value)||v.value[0]),w=c(()=>f.value?.vehicle_colors||[]),_=c(()=>w.value.length?w.value[o.value]:null),H=c(()=>_.value?.image_url||f.value?.image_url),N=c(()=>{if(!f.value)return 0;let t=f.value.price;return _.value?.price_extra&&(t+=_.value.price_extra),t}),C=new Set,b=t=>{if(!t||C.has(t))return;const a=new Image;a.src=t,C.add(t)},T=()=>{v.value.forEach(t=>{t.image_url&&b(t.image_url),t.direct_url&&b(t.direct_url),t.vehicle_colors.forEach(a=>{a.image_url&&b(a.image_url)})})},X=t=>{x.value=t,g.value=null,o.value=0,T()},Y=t=>{g.value=t,o.value=0},O=t=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(t),R=t=>{const a=t.currentTarget,{left:D,top:E,width:U,height:L}=a.getBoundingClientRect(),q=(t.clientX-D)/U*100,A=(t.clientY-E)/L*100;y.value=t.clientX-D,M.value=t.clientY-E,P.value=`${q}% ${A}%`};Q(v,t=>{t.length>0&&g.value}),W(async()=>{await B(),p.value.length>0&&X(p.value[0])});const Z={vehicles:u,loading:e,selectedCategory:x,selectedVehicleId:g,selectedColorIndex:o,isZoomed:m,zoomX:y,zoomY:M,zoomBgPos:P,categoryOrder:j,fetchVehicles:B,categories:p,currentCategoryVehicles:v,currentVehicle:f,currentColors:w,currentColor:_,displayImage:H,displayPrice:N,preloadedImages:C,preloadImage:b,preloadCategoryImages:T,selectCategory:X,selectVehicle:Y,formatPrice:O,handleMouseMove:R};return Object.defineProperty(Z,"__isScriptSetup",{enumerable:!1,value:!0}),Z}}),ee={class:"w-full max-w-6xl mx-auto px-4 py-8",id:"vehicles"},te={key:0,class:"flex justify-center items-center py-20"},re={key:1},oe={class:"flex overflow-x-auto snap-x space-x-3 pb-4 mb-6 scrollbar-hide justify-start md:justify-center"},se=["onClick"],le={class:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 relative"},ne={class:"grid grid-cols-1 lg:grid-cols-12 min-h-[450px]"},ae={class:"lg:col-span-4 border-r border-gray-100 bg-gray-50/50 flex flex-col max-h-[450px] lg:h-auto h-[300px]"},ie={class:"p-4 bg-white border-b border-gray-100 sticky top-0 z-10"},de={class:"text-xs text-gray-500"},ce={class:"overflow-y-auto flex-1 p-3 space-y-2 custom-scrollbar"},ue=["onClick"],ge={class:"font-bold text-gray-900 text-sm group-hover:text-isuzu-red transition-colors"},me={class:"text-xs text-gray-500 mt-0.5"},xe={class:"text-right"},fe={class:"text-isuzu-red font-semibold text-sm"},he={class:"lg:col-span-8 p-5 md:p-8 flex flex-col relative justify-between"},ve={class:"relative z-10 w-full flex items-center justify-center h-full min-h-[250px] cursor-none overflow-visible"},_e=["aria-label"],be={key:2,class:"text-center p-8 bg-gray-50/50 rounded-xl border border-dashed border-gray-200 w-full max-w-sm mx-auto"},ye={class:"bg-gray-50/80 rounded-xl p-4 md:p-6 backdrop-blur-sm border border-gray-100"},pe={class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},we={class:"space-y-3 flex-1"},Ce={class:"text-2xl font-bold text-gray-900 leading-tight"},ke={class:"text-isuzu-red"},ze={class:"flex items-baseline gap-2 mt-1"},Ie={class:"text-xl font-semibold text-gray-700"},Ve={key:0,class:"text-xs text-isuzu-red font-medium"},Se={key:0},Me={class:"flex flex-wrap gap-2 items-center"},Pe=["onClick","title"],je={class:"text-xs text-gray-600 ml-2 font-medium"},Be={key:1,class:"text-xs text-gray-400 italic"};function Te(F,s,u,e,x,g){return n(),l("div",ee,[s[8]||(s[8]=r("div",{class:"text-center mb-8"},[r("h2",{class:"text-2xl md:text-4xl font-bold text-gray-900 mb-2"},[h(" ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ "),r("span",{class:"text-isuzu-red"},"ISUZU"),h(" ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ")]),r("p",{class:"text-gray-500 text-base"},"‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏¢‡∏≤‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ó‡∏∏‡∏Å‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå")],-1)),e.loading?(n(),l("div",te,[...s[2]||(s[2]=[r("div",{class:"animate-spin rounded-full h-10 w-10 border-b-2 border-isuzu-red"},null,-1)])])):(n(),l("div",re,[r("div",oe,[(n(!0),l(k,null,z(e.categories,o=>(n(),l("button",{key:o,onClick:m=>e.selectCategory(o),class:S(["flex-shrink-0 snap-center px-6 py-2 rounded-full text-base font-semibold transition-all duration-300 transform hover:scale-105",e.selectedCategory===o?"bg-isuzu-red text-white shadow-md shadow-isuzu-red/20":"bg-white text-gray-600 border border-gray-200 hover:border-isuzu-red/50 hover:text-isuzu-red"])},i(o),11,se))),128))]),r("div",le,[r("div",ne,[r("div",ae,[r("div",ie,[s[3]||(s[3]=r("h3",{class:"text-lg font-bold text-gray-800"},"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏¢‡πà‡∏≠‡∏¢",-1)),r("p",de,i(e.selectedCategory)+" Models",1)]),r("div",ce,[(n(!0),l(k,null,z(e.currentCategoryVehicles,o=>(n(),l("div",{key:o.id,onClick:m=>e.selectVehicle(o.id),class:S(["p-3 rounded-lg cursor-pointer transition-all duration-200 border group items-center flex justify-between",e.currentVehicle?.id===o.id?"bg-white border-isuzu-red shadow-sm ring-1 ring-isuzu-red/20":"bg-white border-transparent hover:border-gray-300 hover:shadow-sm"])},[r("div",null,[r("div",ge,i(o.sub_model)+" "+i(o.grade),1),r("div",me," ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏ô‡∏ï‡πå "+i(o.engine),1)]),r("div",xe,[r("div",fe,i(e.formatPrice(o.price).replace("THB","‡∏ø")),1)])],10,ue))),128))])]),r("div",he,[r("div",{class:"flex-1 flex flex-col items-center justify-center relative mb-4 min-h-[250px] w-full",onMouseenter:s[0]||(s[0]=o=>e.isZoomed=!0),onMouseleave:s[1]||(s[1]=o=>e.isZoomed=!1),onMousemove:e.handleMouseMove},[s[5]||(s[5]=r("div",{class:"absolute inset-0 bg-gradient-to-br from-gray-100 to-transparent rounded-full opacity-50 blur-2xl transform scale-75"},null,-1)),r("div",ve,[e.displayImage?(n(),l("div",{key:0,class:"w-full h-full min-h-[250px] bg-contain bg-center bg-no-repeat transition-all duration-500 hover:scale-105 pointer-events-none user-select-none",style:I({backgroundImage:`url(${e.displayImage})`}),"aria-label":`${e.currentVehicle.sub_model} ${e.currentVehicle.grade}`},null,12,_e)):V("",!0),e.isZoomed&&e.displayImage?(n(),l("div",{key:1,class:"absolute z-50 pointer-events-none border-2 border-isuzu-red/50 rounded-lg shadow-2xl bg-white overflow-hidden",style:I({left:`${e.zoomX}px`,top:`${e.zoomY}px`,width:"180px",height:"180px",transform:"translate(-50%, -50%)",backgroundImage:`url(${e.displayImage})`,backgroundPosition:e.zoomBgPos,backgroundSize:"600% auto",backgroundRepeat:"no-repeat"})},null,4)):e.displayImage?V("",!0):(n(),l("div",be,[...s[4]||(s[4]=[r("div",{class:"text-4xl mb-2"},"üöó",-1),r("p",{class:"text-gray-400 font-medium text-sm"},"Coming Soon",-1)])]))])],32),r("div",ye,[r("div",pe,[r("div",we,[r("div",null,[r("h3",Ce,[h(i(e.currentVehicle?.sub_model)+" ",1),r("span",ke,i(e.currentVehicle?.grade),1)]),r("div",ze,[r("p",Ie,i(e.formatPrice(e.displayPrice)),1),e.currentColor?.price_extra?(n(),l("p",Ve," (+"+i(e.formatPrice(e.currentColor.price_extra).replace("THB",""))+" ‡∏Ñ‡πà‡∏≤‡∏™‡∏µ‡∏û‡∏¥‡πÄ‡∏®‡∏©) ",1)):V("",!0)])]),e.currentColors.length>0?(n(),l("div",Se,[r("div",Me,[s[6]||(s[6]=r("span",{class:"text-xs font-medium text-gray-500 mr-2"},"‡∏™‡∏µ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å:",-1)),(n(!0),l(k,null,z(e.currentColors,(o,m)=>(n(),l("button",{key:o.id,onClick:y=>e.selectedColorIndex=m,class:S(["w-6 h-6 rounded-full border border-gray-200 transition-all duration-200 focus:outline-none ring-2 ring-offset-1",e.selectedColorIndex===m?"ring-isuzu-red scale-110 border-white":"ring-transparent hover:scale-110"]),style:I({backgroundColor:o.color_hex}),title:o.color_name},null,14,Pe))),128)),r("span",je,i(e.currentColor?.color_name),1)])])):(n(),l("div",Be," ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∏‡πà‡∏ô‡∏ô‡∏µ‡πâ "))])])])])])]),s[7]||(s[7]=r("p",{class:"text-center text-gray-400 text-[10px] mt-6 max-w-4xl mx-auto opacity-75"},[h(" *‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà 22 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568 ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ | ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á "),r("br"),h("‡∏†‡∏≤‡∏û‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤ ‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏£‡∏ñ‡∏≠‡∏≤‡∏à‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ")],-1))]))])}const Fe=J($,[["render",Te],["__scopeId","data-v-bb58e477"]]);export{Fe as default};
