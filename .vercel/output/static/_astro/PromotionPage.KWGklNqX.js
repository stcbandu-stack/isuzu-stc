import{a as P,v as T,w as q}from"./runtime-dom.esm-bundler.CxwZsN_f.js";import{s as I}from"./supabase.Br-sM2rM.js";import{_ as D}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{o as l,c as i,b as t,t as m,d as p,w as k,F as M,r as L,e as f,n as V,p as E,h as c,a as O,k as B,i as S,f as _,q as N,g as y}from"./runtime-core.esm-bundler.CuQQ-MJ5.js";/* empty css                            */const X={__name:"PromotionCard",props:{promotion:{type:Object,required:!0}},emits:["select"],setup(d,{expose:e}){e();const s={};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}},G={class:"group bg-gray-800 rounded-2xl overflow-hidden border border-gray-700 hover:border-isuzu-red transition-all duration-300 hover:shadow-2xl hover:shadow-isuzu-red/10 flex flex-col h-full"},U={class:"relative aspect-[4/5] overflow-hidden"},Q=["src","alt"],H={class:"p-6 flex flex-col flex-grow"},A={class:"text-xl font-bold text-white mb-3 group-hover:text-isuzu-red transition-colors line-clamp-2 min-h-[3.5rem]"},$={class:"text-gray-400 text-sm line-clamp-3 mb-6 flex-grow"};function R(d,e,s,o,g,n){return l(),i("div",G,[t("div",U,[t("img",{src:s.promotion.image_url,alt:s.promotion.title,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"},null,8,Q),e[1]||(e[1]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent opacity-60"},null,-1))]),t("div",H,[t("h3",A,m(s.promotion.title),1),t("p",$,m(s.promotion.description),1),t("button",{onClick:e[0]||(e[0]=r=>d.$emit("select",s.promotion)),class:"w-full py-3 bg-gray-700 hover:bg-isuzu-red text-white rounded-xl text-sm font-bold transition-all duration-300 flex items-center justify-center gap-2 group/btn"},[...e[2]||(e[2]=[p(" ดูรายละเอียดเพิ่มเติม ",-1),t("svg",{class:"w-4 h-4 transition-transform group-hover/btn:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])])])])}const Y=D(X,[["render",R]]),J=E({__name:"PromotionLeadForm",props:{promotion:{type:Object,required:!0}},emits:["close","success","back"],setup(d,{expose:e,emit:s}){e();const o=d,g=s,n=c({fullName:"",phone:"",branch:"",lineId:"",email:"",promotionTitle:o.promotion.title,promotionDetail:o.promotion.description}),r=c(!1),a=c(""),h={props:o,emit:g,formData:n,isSubmitting:r,errorMsg:a,branches:["บ้านดู่","พาน","แม่สาย","แม่จัน"],handleSubmit:async()=>{if(!n.value.fullName||!n.value.phone||!n.value.branch){a.value="กรุณากรอกข้อมูลที่จำเป็นให้ครบถ้วน";return}r.value=!0,a.value="";try{const{error:u}=await I.from("promotion_leads").insert([{full_name:n.value.fullName,phone:n.value.phone,branch:n.value.branch,line_id:n.value.lineId,email:n.value.email,promotion_title:n.value.promotionTitle,promotion_detail:n.value.promotionDetail,source_url:window.location.href}]);if(u)throw u;g("success")}catch(u){console.error("Error submitting lead:",u),a.value="เกิดข้อผิดพลาดในการส่งข้อมูล กรุณาลองใหม่อีกครั้ง"}finally{r.value=!1}}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),K={class:"space-y-6 animate-fade-in"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z={class:"space-y-2"},ee={class:"space-y-2"},te={class:"space-y-2"},oe=["value"],re={class:"space-y-2"},se={class:"space-y-2 md:col-span-2"},le={class:"bg-gray-800/50 p-4 rounded-xl border border-gray-700/50 space-y-3"},ne={class:"text-white font-medium"},ie={class:"text-gray-400 text-xs line-clamp-2 italic"},ae={key:0,class:"text-isuzu-red text-sm font-medium"},de={class:"grid grid-cols-2 gap-4 mt-8"},ue=["disabled"],ce=["disabled"],me={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},ge={key:1};function be(d,e,s,o,g,n){return l(),i("div",K,[e[14]||(e[14]=t("div",{class:"border-b border-gray-700 pb-4 mb-6"},[t("h3",{class:"text-xl font-bold text-white"},"สนใจโปรโมชั่น"),t("p",{class:"text-gray-400 text-sm mt-1"},"กรุณากรอกข้อมูลเพื่อให้ที่ปรึกษาการขายติดต่อกลับ")],-1)),t("div",W,[t("div",Z,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-300"},[p(" ชื่อ-นามสกุล "),t("span",{class:"text-isuzu-red"},"*")],-1)),k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.formData.fullName=r),type:"text",placeholder:"ระบุชื่อของคุณ",class:"w-full bg-gray-900 border border-gray-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-isuzu-red focus:border-transparent outline-none transition-all",required:""},null,512),[[P,o.formData.fullName]])]),t("div",ee,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-300"},[p(" เบอร์โทรติดต่อกลับ "),t("span",{class:"text-isuzu-red"},"*")],-1)),k(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.formData.phone=r),type:"tel",placeholder:"08X-XXX-XXXX",class:"w-full bg-gray-900 border border-gray-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-isuzu-red focus:border-transparent outline-none transition-all",required:""},null,512),[[P,o.formData.phone]])]),t("div",te,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-300"},[p(" เลือกสาขาที่สะดวก "),t("span",{class:"text-isuzu-red"},"*")],-1)),k(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.formData.branch=r),class:"w-full bg-gray-900 border border-gray-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-isuzu-red focus:border-transparent outline-none transition-all",required:""},[e[8]||(e[8]=t("option",{value:"",disabled:"",selected:""},"เลือกสาขา",-1)),(l(),i(M,null,L(o.branches,r=>t("option",{key:r,value:r},m(r),9,oe)),64))],512),[[T,o.formData.branch]])]),t("div",re,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-300"},[p(" LINE ID "),t("span",{class:"text-gray-500 text-xs"},"(ไม่บังคับ)")],-1)),k(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>o.formData.lineId=r),type:"text",placeholder:"Your Line ID",class:"w-full bg-gray-900 border border-gray-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-isuzu-red focus:border-transparent outline-none transition-all"},null,512),[[P,o.formData.lineId]])]),t("div",se,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-300"},[p(" อีเมล "),t("span",{class:"text-gray-500 text-xs"},"(ไม่บังคับ)")],-1)),k(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>o.formData.email=r),type:"email",placeholder:"example@mail.com",class:"w-full bg-gray-900 border border-gray-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-isuzu-red focus:border-transparent outline-none transition-all"},null,512),[[P,o.formData.email]])])]),t("div",le,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-xs font-bold text-isuzu-red uppercase tracking-wider mb-1"},"โปรโมชั่นที่สนใจ",-1)),t("p",ne,m(o.formData.promotionTitle),1)]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1"},"รายละเอียด",-1)),t("p",ie,m(o.formData.promotionDetail),1)])]),o.errorMsg?(l(),i("p",ae,m(o.errorMsg),1)):f("",!0),t("div",de,[t("button",{onClick:e[5]||(e[5]=r=>d.$emit("back")),class:"py-4 bg-gray-700 hover:bg-gray-600 text-white rounded-2xl font-bold transition-all disabled:opacity-50",disabled:o.isSubmitting}," ย้อนกลับ ",8,ue),t("button",{onClick:o.handleSubmit,class:V(["py-4 bg-isuzu-red hover:bg-red-700 text-white rounded-2xl font-bold transition-all flex items-center justify-center gap-2 group",{"opacity-50 cursor-not-allowed bg-gray-500 hover:bg-gray-500":o.isSubmitting}]),disabled:o.isSubmitting},[o.isSubmitting?(l(),i("span",me)):(l(),i("span",ge,"ส่งข้อมูล"))],10,ce)])])}const fe=D(J,[["render",be],["__scopeId","data-v-027a5275"]]),z=4,pe={__name:"PromotionModal",props:{promotion:Object},emits:["close"],setup(d,{expose:e}){e();const s=d,o=c(!1),g=c(!1),n=c(z),r=c(null),a=y(()=>!s.promotion?.gallery_images||!Array.isArray(s.promotion.gallery_images)?[]:s.promotion.gallery_images),x=y(()=>a.value.slice(0,n.value)),C=y(()=>n.value<a.value.length),h=()=>{n.value+=z};let u=null;S(()=>{u=new IntersectionObserver(v=>{v[0].isIntersecting&&C.value&&h()},{threshold:.1})}),_(r,v=>{v&&u&&u.observe(v)},{immediate:!0}),N(()=>{u&&u.disconnect()}),_(()=>s.promotion,()=>{n.value=z});const b=c(null),F={props:s,showLeadForm:o,isSuccess:g,ITEMS_PER_PAGE:z,visibleCount:n,loadMoreTrigger:r,galleryImages:a,visibleGallery:x,hasMoreGallery:C,loadMoreGallery:h,get observer(){return u},set observer(v){u=v},lightboxImage:b,openLightbox:v=>{b.value=v,document.body.style.overflow="hidden"},closeLightbox:()=>{b.value=null,document.body.style.overflow=""},handleSuccess:()=>{g.value=!0},ref:c,computed:y,watch:_,onMounted:S,onUnmounted:N,PromotionLeadForm:fe};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}},xe={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 p-4 backdrop-blur-md"},ve={class:"bg-gray-800 rounded-3xl shadow-2xl w-full max-w-5xl border border-gray-700 overflow-hidden flex flex-col md:flex-row max-h-[90vh]"},ye={key:0,class:"md:w-1/2 bg-gray-900 border-r border-gray-700/50 overflow-y-auto"},he={class:"p-6 space-y-4"},we=["src"],ke={key:0,class:"space-y-3"},_e={class:"text-gray-400 text-sm font-medium flex items-center gap-2"},Ce={class:"grid grid-cols-2 gap-2"},Pe=["onClick"],Me=["src"],ze={key:0,ref:"loadMoreTrigger",class:"flex justify-center py-4"},je={class:"flex justify-between items-start mb-6"},Le={key:0,class:"flex-grow flex flex-col items-center justify-center text-center space-y-6 py-12 animate-fade-in"},Se={class:"text-3xl font-extrabold text-white mb-6 leading-tight"},De={class:"prose prose-invert prose-red max-w-none flex-grow"},Ie={class:"text-gray-300 text-lg leading-relaxed whitespace-pre-wrap"},Be={class:"mt-12 pt-8 border-t border-gray-700/50 flex flex-col gap-4"},Ve=["href"],Fe=["src"];function Ne(d,e,s,o,g,n){return s.promotion?(l(),i("div",xe,[t("div",ve,[t("button",{onClick:e[0]||(e[0]=r=>d.$emit("close")),class:"absolute top-4 right-4 md:hidden text-white bg-black/50 p-2 rounded-full z-10"},[...e[9]||(e[9]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),!o.showLeadForm&&!o.isSuccess?(l(),i("div",ye,[t("div",he,[t("div",{class:"aspect-[4/5] w-full relative shadow-2xl rounded-2xl overflow-hidden cursor-pointer",onClick:e[1]||(e[1]=r=>o.openLightbox(s.promotion.image_url))},[t("img",{src:s.promotion.image_url,class:"absolute inset-0 w-full h-full object-cover hover:scale-105 transition-transform duration-300"},null,8,we),e[10]||(e[10]=t("div",{class:"absolute inset-0 bg-black/0 hover:bg-black/20 transition-colors flex items-center justify-center opacity-0 hover:opacity-100"},[t("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})])],-1))]),o.galleryImages.length>0?(l(),i("div",ke,[t("h4",_e,[e[11]||(e[11]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),p(" รูปภาพเพิ่มเติม ("+m(o.galleryImages.length)+") ",1)]),t("div",Ce,[(l(!0),i(M,null,L(o.visibleGallery,(r,a)=>(l(),i("div",{key:a,class:"aspect-[5/4] rounded-xl overflow-hidden cursor-pointer border border-gray-700/50 hover:border-isuzu-red/50 transition-colors",onClick:x=>o.openLightbox(r)},[t("img",{src:r,class:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:e[2]||(e[2]=x=>x.target.src="https://placehold.co/500x400/333/666?text=Error")},null,40,Me)],8,Pe))),128))]),o.hasMoreGallery?(l(),i("div",ze,[t("button",{onClick:o.loadMoreGallery,class:"px-6 py-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-white rounded-xl text-sm transition-colors border border-gray-700"}," โหลดเพิ่มเติม ("+m(o.galleryImages.length-o.visibleCount)+" รูป) ",1)],512)):f("",!0)])):f("",!0)])])):f("",!0),t("div",{class:V([[o.showLeadForm||o.isSuccess?"w-full":"md:w-1/2"],"p-8 md:p-12 overflow-y-auto flex flex-col"])},[t("div",je,[e[13]||(e[13]=t("span",{class:"px-3 py-1 bg-isuzu-red/20 text-isuzu-red text-xs font-bold rounded-full uppercase tracking-widest border border-isuzu-red/30"},"Promotion",-1)),t("button",{onClick:e[3]||(e[3]=r=>d.$emit("close")),class:"hidden md:block text-gray-400 hover:text-white transition-colors"},[...e[12]||(e[12]=[t("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o.isSuccess?(l(),i("div",Le,[e[14]||(e[14]=O('<div class="w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center text-green-500 mb-4 scale-up" data-v-b78221f0><svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b78221f0><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" data-v-b78221f0></path></svg></div><h3 class="text-3xl font-black text-white" data-v-b78221f0>ส่งข้อมูลสำเร็จ</h3><p class="text-gray-400 text-lg" data-v-b78221f0>รอที่ปรึกษาการขายติดต่อกลับขอบคุณครับ</p>',3)),t("button",{onClick:e[4]||(e[4]=r=>d.$emit("close")),class:"px-12 py-4 bg-gray-700 hover:bg-gray-600 text-white rounded-2xl font-bold transition-all mt-8"}," กลับสู่หน้าหลัก ")])):o.showLeadForm?(l(),B(o.PromotionLeadForm,{key:1,promotion:s.promotion,onBack:e[5]||(e[5]=r=>o.showLeadForm=!1),onSuccess:o.handleSuccess,class:"flex-grow"},null,8,["promotion"])):(l(),i(M,{key:2},[t("h2",Se,m(s.promotion.title),1),t("div",De,[t("p",Ie,m(s.promotion.description),1)]),t("div",Be,[f("",!0),s.promotion.direct_url?(l(),i("a",{key:1,href:s.promotion.direct_url,target:"_blank",class:"w-full py-4 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-2xl font-bold text-center transition-all border border-gray-700 flex items-center justify-center gap-2 group"},[...e[16]||(e[16]=[p(" ดูรายละเอียดเพิ่มเติม ",-1),t("svg",{class:"w-5 h-5 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)])],8,Ve)):f("",!0),t("button",{onClick:e[7]||(e[7]=r=>d.$emit("close")),class:"w-full py-4 text-gray-500 hover:text-white transition-all text-sm font-medium"}," ปิดหน้าต่างนี้ ")])],64))],2)]),o.lightboxImage?(l(),i("div",{key:0,class:"fixed inset-0 z-[110] bg-black/95 flex items-center justify-center p-4",onClick:o.closeLightbox},[e[17]||(e[17]=t("button",{class:"absolute top-4 right-4 text-white bg-black/50 p-2 rounded-full hover:bg-black/80 transition-colors"},[t("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),t("img",{src:o.lightboxImage,class:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onClick:e[8]||(e[8]=q(()=>{},["stop"]))},null,8,Fe)])):f("",!0)])):f("",!0)}const Te=D(pe,[["render",Ne],["__scopeId","data-v-b78221f0"]]),j=10,qe={__name:"PromotionPage",setup(d,{expose:e}){e();const s=c([]),o=c(!0),g=c(null),n=c(""),r=c(1),a=async()=>{o.value=!0;try{const{data:b,error:w}=await I.from("promotions").select("*").eq("is_active",!0).order("created_at",{ascending:!1});w||(s.value=b)}finally{o.value=!1}};S(a);const x=y(()=>{if(!n.value)return s.value;const b=n.value.toLowerCase();return s.value.filter(w=>w.title.toLowerCase().includes(b)||w.description&&w.description.toLowerCase().includes(b))}),C=y(()=>Math.ceil(x.value.length/j)),h=y(()=>{const b=(r.value-1)*j;return x.value.slice(b,b+j)});_(n,()=>{r.value=1}),_(r,()=>{window.scrollTo({top:0,behavior:"smooth"})});const u={promotions:s,loading:o,selectedPromo:g,searchQuery:n,currentPage:r,itemsPerPage:j,fetchPromotions:a,filteredPromotions:x,totalPages:C,paginatedPromotions:h,ref:c,onMounted:S,computed:y,watch:_,get supabase(){return I},PromotionCard:Y,PromotionModal:Te};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},Ee={class:"space-y-12"},Oe={class:"flex flex-col md:flex-row gap-6 items-center justify-between bg-gray-800/30 p-6 rounded-3xl border border-gray-800 backdrop-blur-sm"},Xe={class:"relative w-full md:max-w-md"},Ge={class:"text-sm text-gray-400 font-bold uppercase tracking-widest"},Ue={class:"text-isuzu-red"},Qe={key:0,class:"flex flex-col items-center justify-center py-32 space-y-4"},He={key:1,class:"text-center py-32 bg-gray-800/20 rounded-[3rem] border border-gray-800 border-dashed"},Ae={key:2},$e={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-8"},Re={key:0,class:"mt-20 flex justify-center items-center gap-4"},Ye=["disabled"],Je={class:"flex gap-2"},Ke=["onClick"],We=["disabled"];function Ze(d,e,s,o,g,n){return l(),i("div",Ee,[t("div",Oe,[t("div",Xe,[k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.searchQuery=r),type:"text",placeholder:"ค้นหาโปรโมชั่น...",class:"w-full bg-gray-900 border border-gray-700 rounded-2xl px-12 py-4 text-white placeholder-gray-500 focus:border-isuzu-red outline-none transition-all"},null,512),[[P,o.searchQuery]]),e[8]||(e[8]=t("div",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),o.searchQuery?(l(),i("button",{key:0,onClick:e[1]||(e[1]=r=>o.searchQuery=""),class:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white"},[...e[7]||(e[7]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):f("",!0)]),t("div",Ge,[e[9]||(e[9]=p(" ผลการค้นหา: ",-1)),t("span",Ue,m(o.filteredPromotions.length),1),e[10]||(e[10]=p(" รายการ ",-1))])]),o.loading?(l(),i("div",Qe,[...e[11]||(e[11]=[t("div",{class:"animate-spin rounded-full h-16 w-16 border-4 border-isuzu-red/20 border-t-isuzu-red"},null,-1),t("span",{class:"text-gray-500 font-bold uppercase tracking-[0.3em] text-xs"},"กำลังโหลดโปรโมชั่น...",-1)])])):o.filteredPromotions.length===0?(l(),i("div",He,[e[12]||(e[12]=t("div",{class:"mb-6 opacity-20"},[t("svg",{class:"w-20 h-20 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e[13]||(e[13]=t("p",{class:"text-gray-400 text-2xl font-light"},"ขออภัย ไม่พบโปรโมชั่นที่คุณต้องการ...",-1)),t("button",{onClick:e[2]||(e[2]=r=>o.searchQuery=""),class:"mt-8 text-isuzu-red font-bold hover:underline"},"แสดงโปรโมชั่นทั้งหมด")])):(l(),i("div",Ae,[t("div",$e,[(l(!0),i(M,null,L(o.paginatedPromotions,r=>(l(),B(o.PromotionCard,{key:r.id,promotion:r,onSelect:e[3]||(e[3]=a=>o.selectedPromo=a)},null,8,["promotion"]))),128))]),o.totalPages>1?(l(),i("div",Re,[t("button",{onClick:e[4]||(e[4]=r=>o.currentPage--),disabled:o.currentPage===1,class:"p-4 rounded-2xl bg-gray-800 border border-gray-700 disabled:opacity-20 hover:border-isuzu-red transition-all group"},[...e[14]||(e[14]=[t("svg",{class:"w-5 h-5 text-white transition-transform group-hover:-translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,Ye),t("div",Je,[(l(!0),i(M,null,L(o.totalPages,r=>(l(),i("button",{key:r,onClick:a=>o.currentPage=r,class:V(["w-12 h-12 rounded-xl text-sm font-black transition-all border",o.currentPage===r?"bg-isuzu-red border-isuzu-red text-white shadow-lg shadow-isuzu-red/20":"bg-gray-800 border-gray-700 text-gray-400 hover:border-gray-500 hover:text-white"])},m(r),11,Ke))),128))]),t("button",{onClick:e[5]||(e[5]=r=>o.currentPage++),disabled:o.currentPage===o.totalPages,class:"p-4 rounded-2xl bg-gray-800 border border-gray-700 disabled:opacity-20 hover:border-isuzu-red transition-all group"},[...e[15]||(e[15]=[t("svg",{class:"w-5 h-5 text-white transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,We)])):f("",!0),o.selectedPromo?(l(),B(o.PromotionModal,{key:1,promotion:o.selectedPromo,onClose:e[6]||(e[6]=r=>o.selectedPromo=null)},null,8,["promotion"])):f("",!0)]))])}const it=D(qe,[["render",Ze]]);export{it as default};
