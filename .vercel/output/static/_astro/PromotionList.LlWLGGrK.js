import{w as V,a as k}from"./runtime-dom.esm-bundler.CxwZsN_f.js";import{s as v}from"./supabase.Br-sM2rM.js";import{t as m,D as q}from"./DeleteConfirmModal.DT2sAnjA.js";import{_ as N}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{o as a,c as i,b as e,d as C,t as p,w as z,n as B,e as w,F as O,r as I,f as S,g as j,h as u,k as F,m as J,i as L}from"./runtime-core.esm-bundler.CuQQ-MJ5.js";const R={__name:"PromotionEditor",props:{promotion:Object},emits:["close","saved"],setup(_,{expose:r,emit:b}){r();const t=_,f=b,x=j(()=>!!t.promotion),s=u(!1),c=u(!1),n=u(""),g=u(""),y=u([]),P=j(()=>y.value.length),M=()=>{if(g.value="",y.value=[],!n.value.trim())return!0;try{const l=JSON.parse(n.value);if(!Array.isArray(l))return g.value='‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö Array ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ["url1", "url2"]',!1;for(let o=0;o<l.length;o++){if(typeof l[o]!="string")return g.value=`‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà ${o+1} ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô string (URL)`,!1;if(!l[o].startsWith("http://")&&!l[o].startsWith("https://"))return g.value=`‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà ${o+1} ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô URL ‡∏ó‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ http:// ‡∏´‡∏£‡∏∑‡∏≠ https://`,!1}return y.value=l,!0}catch(l){return g.value="‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: "+l.message,!1}},h=u({title:"",description:"",image_url:"",direct_url:"",gallery_images:[],is_active:!0});S(()=>t.promotion,l=>{l?(h.value={...l},l.gallery_images&&Array.isArray(l.gallery_images)?(n.value=JSON.stringify(l.gallery_images,null,2),y.value=l.gallery_images):(n.value="",y.value=[])):(h.value={title:"",description:"",image_url:"",direct_url:"",gallery_images:[],is_active:!0},n.value="",y.value=[]),g.value=""},{immediate:!0});const E={props:t,emit:f,isEditing:x,saving:s,uploading:c,galleryInput:n,galleryError:g,parsedGallery:y,parsedGalleryCount:P,validateGalleryInput:M,form:h,savePromotion:async()=>{if(!s.value){if(n.value.trim()&&!M()){m.error("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö Gallery Images ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");return}s.value=!0;try{const l={...h.value,gallery_images:y.value};if(x.value){const{error:o}=await v.from("promotions").update(l).eq("id",t.promotion.id);if(o)throw o}else{const{error:o}=await v.from("promotions").insert([l]);if(o)throw o}m.success("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß"),f("saved"),f("close")}catch(l){m.error("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å: "+l.message)}finally{s.value=!1}}},handleFileUpload:async l=>{const o=l.target.files[0];if(o){c.value=!0;try{const d=`promo_${Date.now()}_${o.name}`,{data:Ae,error:G}=await v.storage.from("slides").upload(d,o);if(G)throw G;const{data:{publicUrl:A}}=v.storage.from("slides").getPublicUrl(d);h.value.image_url=A,m.success("‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô")}catch(d){m.error("‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: "+d.message)}finally{c.value=!1}}},ref:u,computed:j,watch:S,get supabase(){return v},get toast(){return m}};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}},T={class:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 backdrop-blur-sm"},Q={class:"bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl border border-gray-700 overflow-hidden flex flex-col max-h-[90vh]"},H={class:"p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800/50 sticky top-0 z-10"},W={class:"text-2xl font-bold text-white flex items-center gap-3"},K={class:"p-6 overflow-y-auto"},X={class:"grid grid-cols-1 gap-6"},Y={class:"flex gap-4"},Z={class:"flex-1 relative"},$={class:"flex-shrink-0 px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg cursor-pointer transition-colors flex items-center gap-2 border border-gray-600"},ee={key:0,class:"animate-spin h-4 w-4 border-b-2 border-white rounded-full"},te={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},re={key:0,class:"mt-2 text-red-400 text-xs flex items-center gap-1"},oe={key:1,class:"mt-2 text-green-400 text-xs flex items-center gap-1"},se={key:2,class:"mt-4"},le={class:"block text-sm font-medium text-gray-400 mb-2"},ae={class:"grid grid-cols-4 gap-2"},ie=["src"],ne={key:0,class:"aspect-[5/4] rounded-lg overflow-hidden border border-gray-700 bg-gray-900 flex items-center justify-center"},de={class:"text-gray-500 text-sm"},ue={key:0,class:"mt-4"},ce={class:"w-32 aspect-[4/5] rounded-lg overflow-hidden border border-gray-700 bg-gray-900"},ge=["src"],me={class:"p-6 border-t border-gray-700 flex justify-end gap-4 bg-gray-800/50 sticky bottom-0"},ye=["disabled"],fe=["disabled"],pe={key:0,class:"animate-spin h-4 w-4 border-b-2 border-white rounded-full"};function ve(_,r,b,t,f,x){return a(),i("div",T,[e("div",Q,[e("div",H,[e("h2",W,[r[8]||(r[8]=e("span",{class:"p-2 bg-isuzu-red/10 rounded-lg text-isuzu-red"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})])],-1)),C(" "+p(t.isEditing?"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô":"‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà"),1)]),e("button",{onClick:r[0]||(r[0]=s=>_.$emit("close")),class:"text-gray-400 hover:text-white transition-colors"},[...r[9]||(r[9]=[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",K,[e("form",{onSubmit:V(t.savePromotion,["prevent"]),class:"space-y-6"},[e("div",null,[r[10]||(r[10]=e("label",{class:"block text-sm font-medium text-gray-400 mb-2"},"‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô",-1)),z(e("input",{"onUpdate:modelValue":r[1]||(r[1]=s=>t.form.title=s),type:"text",required:"",class:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-isuzu-red focus:ring-1 focus:ring-isuzu-red outline-none transition-all",placeholder:"‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏õ‡∏£‡πÅ‡∏£‡∏á‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô..."},null,512),[[k,t.form.title]])]),e("div",null,[r[11]||(r[11]=e("label",{class:"block text-sm font-medium text-gray-400 mb-2"},"‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°",-1)),z(e("textarea",{"onUpdate:modelValue":r[2]||(r[2]=s=>t.form.description=s),rows:"6",required:"",class:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-isuzu-red focus:ring-1 focus:ring-isuzu-red outline-none transition-all resize-none",placeholder:"‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."},null,512),[[k,t.form.description]])]),e("div",X,[e("div",null,[r[13]||(r[13]=e("label",{class:"block text-sm font-medium text-gray-400 mb-2"},"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô (‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ 4:5)",-1)),e("div",Y,[e("div",Z,[z(e("input",{"onUpdate:modelValue":r[3]||(r[3]=s=>t.form.image_url=s),type:"text",class:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white text-sm focus:border-isuzu-red outline-none",placeholder:"‡πÉ‡∏™‡πà URL ‡∏Ç‡∏≠‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û..."},null,512),[[k,t.form.image_url]])]),e("label",$,[t.uploading?(a(),i("span",ee)):(a(),i("svg",te,[...r[12]||(r[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-8l-4-4m0 0L8 8m4-4v12"},null,-1)])])),C(" "+p(t.uploading?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î...":"‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î")+" ",1),e("input",{type:"file",class:"hidden",accept:"image/*",onChange:t.handleFileUpload},null,32)])])]),e("div",null,[r[14]||(r[14]=e("label",{class:"block text-sm font-medium text-gray-400 mb-2"},"‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏≠‡∏∑‡πà‡∏ô (Optional)",-1)),z(e("input",{"onUpdate:modelValue":r[4]||(r[4]=s=>t.form.direct_url=s),type:"url",class:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white text-sm focus:border-isuzu-red outline-none",placeholder:"‡πÄ‡∏ä‡πà‡∏ô https://www.isuzu-tis.com/promotions"},null,512),[[k,t.form.direct_url]])]),e("div",null,[r[17]||(r[17]=e("label",{class:"block text-sm font-medium text-gray-400 mb-2"}," ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (Gallery) - JSONB Array ",-1)),z(e("textarea",{"onUpdate:modelValue":r[5]||(r[5]=s=>t.galleryInput=s),rows:"4",class:B(["w-full bg-gray-900 border rounded-lg px-4 py-3 text-white text-sm font-mono focus:border-isuzu-red outline-none resize-none",t.galleryError?"border-red-500":"border-gray-700"]),placeholder:'["https://example.com/image1.jpg", "https://example.com/image2.jpg"]',onInput:t.validateGalleryInput},null,34),[[k,t.galleryInput]]),t.galleryError?(a(),i("div",re,[r[15]||(r[15]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),C(" "+p(t.galleryError),1)])):t.galleryInput&&t.parsedGalleryCount>0?(a(),i("div",oe,[r[16]||(r[16]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),C(" ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ("+p(t.parsedGalleryCount)+" ‡∏£‡∏π‡∏õ) ",1)])):w("",!0),r[18]||(r[18]=e("div",{class:"mt-3 p-3 bg-gray-900/50 rounded-lg border border-gray-700/50"},[e("p",{class:"text-xs text-gray-500 mb-2"},"üìù ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:"),e("code",{class:"text-xs text-gray-400 block whitespace-pre-wrap break-all"},'["https://example.com/img1.jpg", "https://example.com/img2.jpg"]'),e("p",{class:"text-xs text-gray-500 mt-2"},"üí° ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡πÉ‡∏™‡πà URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON Array ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ 5:4 (‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô)")],-1)),t.parsedGallery.length>0?(a(),i("div",se,[e("label",le,"‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Gallery ("+p(t.parsedGallery.length)+" ‡∏£‡∏π‡∏õ)",1),e("div",ae,[(a(!0),i(O,null,I(t.parsedGallery.slice(0,8),(s,c)=>(a(),i("div",{key:c,class:"aspect-[5/4] rounded-lg overflow-hidden border border-gray-700 bg-gray-900"},[e("img",{src:s,class:"w-full h-full object-cover",onError:r[6]||(r[6]=n=>n.target.src="https://placehold.co/500x400/333/666?text=Error")},null,40,ie)]))),128)),t.parsedGallery.length>8?(a(),i("div",ne,[e("span",de,"+"+p(t.parsedGallery.length-8)+" ‡∏£‡∏π‡∏õ",1)])):w("",!0)])])):w("",!0)])]),t.form.image_url?(a(),i("div",ue,[r[19]||(r[19]=e("label",{class:"block text-sm font-medium text-gray-400 mb-2"},"‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô 4:5)",-1)),e("div",ce,[e("img",{src:t.form.image_url,class:"w-full h-full object-cover"},null,8,ge)])])):w("",!0)],32)]),e("div",me,[e("button",{onClick:r[7]||(r[7]=s=>_.$emit("close")),class:"px-6 py-2.5 bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white rounded-lg transition-colors font-medium border border-gray-600",disabled:t.saving}," ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å ",8,ye),e("button",{onClick:t.savePromotion,class:"px-8 py-2.5 bg-isuzu-red hover:bg-red-700 text-white rounded-lg transition-all font-medium flex items-center justify-center gap-2 shadow-lg shadow-isuzu-red/20 disabled:opacity-50",disabled:t.saving},[t.saving?(a(),i("span",pe)):w("",!0),C(" "+p(t.saving?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...":"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"),1)],8,fe)])])])}const be=N(R,[["render",ve]]),xe={__name:"PromotionList",setup(_,{expose:r}){r();const b=u([]),t=u(!0),f=u(""),x=u(!1),s=u(null),c=u(!1),n=u(null),g=async()=>{t.value=!0;try{const{data:o,error:d}=await v.from("promotions").select("*").order("created_at",{ascending:!1});if(d)throw d;b.value=o||[]}catch(o){m.error("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÑ‡∏î‡πâ: "+o.message)}finally{t.value=!1}},y=j(()=>{if(!f.value)return b.value;const o=f.value.toLowerCase();return b.value.filter(d=>d.title.toLowerCase().includes(o)||d.description?.toLowerCase().includes(o))}),P=async o=>{try{const{error:d}=await v.from("promotions").update({is_active:!o.is_active}).eq("id",o.id);if(d)throw d;await g(),m.success("‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß")}catch(d){m.error("‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: "+d.message)}},M=(o=null)=>{s.value=o,x.value=!0},h=()=>{x.value=!1,s.value=null},D=o=>{n.value=o,c.value=!0},U=()=>{c.value=!1,n.value=null},E=async()=>{if(n.value){t.value=!0;try{const{error:o}=await v.from("promotions").delete().eq("id",n.value.id);if(o)throw o;m.success("‡∏•‡∏ö‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß"),await g()}catch(o){m.error("‡∏•‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: "+o.message),t.value=!1}}};L(()=>{g()});const l={promotions:b,loading:t,searchQuery:f,showEditor:x,selectedPromotion:s,showDeleteModal:c,promotionToDelete:n,fetchPromotions:g,filteredPromotions:y,toggleStatus:P,openEditor:M,closeEditor:h,initiateDelete:D,closeDeleteModal:U,executeDelete:E,ref:u,computed:j,onMounted:L,get supabase(){return v},get toast(){return m},PromotionEditor:be,DeleteConfirmModal:q};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}},he={class:"flex justify-between items-center mb-6"},we={class:"relative w-64"},_e={key:0,class:"text-center py-12"},ke={key:1,class:"bg-gray-800 rounded-xl overflow-hidden border border-gray-700 shadow-xl"},Ce={class:"w-full text-left text-gray-300"},ze={class:"divide-y divide-gray-700"},je={class:"px-6 py-4"},Me={class:"w-12 h-15 bg-gray-900 rounded border border-gray-600 overflow-hidden flex items-center justify-center"},Ee=["src"],Pe={key:1,class:"text-xs text-gray-600"},De={class:"px-6 py-4"},Ue={class:"font-medium text-white truncate max-w-xs"},Ge={class:"px-6 py-4"},Se=["onClick"],Le={class:"px-6 py-4 text-right space-x-2"},Ne=["onClick"],Be=["onClick"],Oe={key:0};function Ie(_,r,b,t,f,x){return a(),i("div",null,[e("div",he,[e("div",we,[z(e("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>t.searchQuery=s),type:"text",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô...",class:"w-full bg-gray-800 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white focus:border-isuzu-red focus:outline-none"},null,512),[[k,t.searchQuery]]),r[2]||(r[2]=e("svg",{class:"w-5 h-5 text-gray-400 absolute left-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),e("button",{onClick:r[1]||(r[1]=s=>t.openEditor()),class:"bg-isuzu-red hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors shadow-lg shadow-isuzu-red/20"},[...r[3]||(r[3]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),C(" ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô ",-1)])])]),t.loading?(a(),i("div",_e,[...r[4]||(r[4]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-isuzu-red mx-auto"},null,-1),e("p",{class:"text-gray-400 mt-4"},"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...",-1)])])):(a(),i("div",ke,[e("table",Ce,[r[6]||(r[6]=e("thead",{class:"bg-gray-900 text-gray-400 uppercase text-xs"},[e("tr",null,[e("th",{class:"px-6 py-4"},"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"),e("th",{class:"px-6 py-4"},"‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠"),e("th",{class:"px-6 py-4"},"‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞"),e("th",{class:"px-6 py-4 text-right"},"‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£")])],-1)),e("tbody",ze,[(a(!0),i(O,null,I(t.filteredPromotions,s=>(a(),i("tr",{key:s.id,class:"hover:bg-gray-700/50 transition-colors"},[e("td",je,[e("div",Me,[s.image_url?(a(),i("img",{key:0,src:s.image_url,class:"w-full h-full object-cover"},null,8,Ee)):(a(),i("span",Pe,"No Img"))])]),e("td",De,[e("p",Ue,p(s.title),1)]),e("td",Ge,[e("button",{onClick:c=>t.toggleStatus(s),class:B([s.is_active?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-700 text-gray-400 border-gray-600","px-3 py-1 rounded-full text-xs font-medium border"])},p(s.is_active?"‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•":"‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á"),11,Se)]),e("td",Le,[e("button",{onClick:c=>t.openEditor(s),class:"text-blue-400 hover:text-blue-300 transition-colors"}," ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ",8,Ne),e("button",{onClick:c=>t.initiateDelete(s),class:"text-red-400 hover:text-red-300 transition-colors"}," ‡∏•‡∏ö ",8,Be)])]))),128)),t.filteredPromotions.length===0?(a(),i("tr",Oe,[...r[5]||(r[5]=[e("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-500"}," ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô ",-1)])])):w("",!0)])])])),t.showEditor?(a(),F(t.PromotionEditor,{key:2,promotion:t.selectedPromotion,onClose:t.closeEditor,onSaved:t.fetchPromotions},null,8,["promotion"])):w("",!0),J(t.DeleteConfirmModal,{isOpen:t.showDeleteModal,itemName:t.promotionToDelete?.title||"",onClose:t.closeDeleteModal,onConfirmed:t.executeDelete},null,8,["isOpen","itemName"])])}const Te=N(xe,[["render",Ie]]);export{Te as default};
